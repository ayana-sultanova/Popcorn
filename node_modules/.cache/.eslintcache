[{"C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\index.js":"1","C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\App.js":"2","C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\hooks\\useLocalStorageState.js":"3","C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\hooks\\useMovies.js":"4","C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\hooks\\useKey.js":"5","C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\star\\StarRating.js":"6","C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\loader\\Loader.js":"7","C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\main\\Main.js":"8","C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\navbar\\NavBar.js":"9","C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\movie\\MovieDetails.js":"10","C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\search\\Search.js":"11","C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\main\\Box.js":"12","C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\movie\\MovieList.js":"13","C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\watched\\NumResults.js":"14","C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\watched\\WatchedSummary.js":"15","C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\movie\\Movie.js":"16","C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\logo\\Logo.js":"17","C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\watched\\WatchedMoviesList.js":"18","C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\watched\\WatchedMovie.js":"19","C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\error\\ErrorMessage.js":"20"},{"size":254,"mtime":1697282399256,"results":"21","hashOfConfig":"22"},{"size":2328,"mtime":1697284731178,"results":"23","hashOfConfig":"22"},{"size":425,"mtime":1696619239544,"results":"24","hashOfConfig":"22"},{"size":1359,"mtime":1697284314117,"results":"25","hashOfConfig":"22"},{"size":413,"mtime":1696619239515,"results":"26","hashOfConfig":"22"},{"size":3718,"mtime":1696619239429,"results":"27","hashOfConfig":"22"},{"size":295,"mtime":1697282581626,"results":"28","hashOfConfig":"22"},{"size":140,"mtime":1697284314078,"results":"29","hashOfConfig":"22"},{"size":247,"mtime":1697284314029,"results":"30","hashOfConfig":"22"},{"size":4858,"mtime":1697284420833,"results":"31","hashOfConfig":"22"},{"size":615,"mtime":1697284314092,"results":"32","hashOfConfig":"22"},{"size":405,"mtime":1697284314098,"results":"33","hashOfConfig":"22"},{"size":365,"mtime":1697284314056,"results":"34","hashOfConfig":"22"},{"size":229,"mtime":1697284314140,"results":"35","hashOfConfig":"22"},{"size":1141,"mtime":1697284314037,"results":"36","hashOfConfig":"22"},{"size":469,"mtime":1697284314085,"results":"37","hashOfConfig":"22"},{"size":220,"mtime":1697284805717,"results":"38","hashOfConfig":"22"},{"size":475,"mtime":1697284534579,"results":"39","hashOfConfig":"22"},{"size":926,"mtime":1697284314061,"results":"40","hashOfConfig":"22"},{"size":211,"mtime":1697284314133,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"2apwir",{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","suppressedMessages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","suppressedMessages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","suppressedMessages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73"},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"86","messages":"87","suppressedMessages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","suppressedMessages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","suppressedMessages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","suppressedMessages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","suppressedMessages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\index.js",[],[],"C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\App.js",[],[],"C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\hooks\\useLocalStorageState.js",[],[],"C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\hooks\\useMovies.js",[],[],[],"C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\hooks\\useKey.js",[],[],"C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\star\\StarRating.js",[],[],"C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\loader\\Loader.js",[],[],"C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\main\\Main.js",[],[],"C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\navbar\\NavBar.js",[],[],"C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\movie\\MovieDetails.js",["104"],[],"import React, {useEffect, useRef, useState} from 'react';\r\nimport {useKey} from \"../../hooks/useKey\";\r\nimport Loader from \"../loader/Loader\";\r\nimport StarRating from \"../star/StarRating\";\r\n\r\nconst KEY = \"f84fc31d\";\r\n\r\nfunction MovieDetails({ selectedId, onCloseMovie, onAddWatched, watched }) {\r\n    const [movie, setMovie] = useState({});\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [userRating, setUserRating] = useState(\"\");\r\n\r\n    const countRef = useRef(0);\r\n\r\n    useEffect(\r\n        function () {\r\n            if (userRating) countRef.current++;\r\n        },\r\n        [userRating]\r\n    );\r\n\r\n    const isWatched = watched.map((movie) => movie.imdbID).includes(selectedId);\r\n    const watchedUserRating = watched.find(\r\n        (movie) => movie.imdbID === selectedId\r\n    )?.userRating;\r\n\r\n    const {\r\n        Title: title,\r\n        Year: year,\r\n        Poster: poster,\r\n        Runtime: runtime,\r\n        imdbRating,\r\n        Plot: plot,\r\n        Released: released,\r\n        Actors: actors,\r\n        Director: director,\r\n        Genre: genre,\r\n    } = movie;\r\n\r\n    const isTop = imdbRating > 8;\r\n\r\n    function handleAdd() {\r\n        const newWatchedMovie = {\r\n            imdbID: selectedId,\r\n            title,\r\n            year,\r\n            poster,\r\n            imdbRating: Number(imdbRating),\r\n            runtime: Number(runtime.split(\" \").at(0)),\r\n            userRating,\r\n            countRatingDecisions: countRef.current,\r\n        };\r\n\r\n        onAddWatched(newWatchedMovie);\r\n        onCloseMovie();\r\n\r\n        // setAvgRating(Number(imdbRating));\r\n        // setAvgRating((avgRating) => (avgRating + userRating) / 2);\r\n    }\r\n\r\n    useKey(\"Escape\", onCloseMovie);\r\n\r\n    useEffect(\r\n        function () {\r\n            async function getMovieDetails() {\r\n                setIsLoading(true);\r\n                const res = await fetch(\r\n                    `http://www.omdbapi.com/?apikey=${KEY}&i=${selectedId}`\r\n                );\r\n                const data = await res.json();\r\n                setMovie(data);\r\n                setIsLoading(false);\r\n            }\r\n            getMovieDetails();\r\n        },\r\n        [selectedId]\r\n    );\r\n\r\n    useEffect(\r\n        function () {\r\n            if (!title) return;\r\n            document.title = `Movie | ${title}`;\r\n\r\n            return function () {\r\n                document.title = \"usePopcorn\";\r\n                // console.log(`Clean up effect for movie ${title}`);\r\n            };\r\n        },\r\n        [title]\r\n    );\r\n\r\n    return (\r\n        <div className=\"details\">\r\n            {isLoading ? (\r\n                <Loader />\r\n            ) : (\r\n                <>\r\n                    <header>\r\n                        <button className=\"btn-back\" onClick={onCloseMovie}>\r\n                            &larr;\r\n                        </button>\r\n                        <img src={poster} alt={`Poster of ${movie} movie`} />\r\n                        <div className=\"details-overview\">\r\n                            <h2>{title}</h2>\r\n                            <p>\r\n                                {released} &bull; {runtime}\r\n                            </p>\r\n                            <p>{genre}</p>\r\n                            <p>\r\n                                <span>⭐️</span>\r\n                                {imdbRating} IMDb rating\r\n                            </p>\r\n                        </div>\r\n                    </header>\r\n\r\n                    {/* <p>{avgRating}</p> */}\r\n\r\n                    <section>\r\n                        <div className=\"rating\">\r\n                            {!isWatched ? (\r\n                                <>\r\n                                    <StarRating\r\n                                        maxRating={10}\r\n                                        size={24}\r\n                                        onSetRating={setUserRating}\r\n                                    />\r\n                                    {userRating > 0 && (\r\n                                        <button className=\"btn-add\" onClick={handleAdd}>\r\n                                            + Add to list\r\n                                        </button>\r\n                                    )}\r\n                                </>\r\n                            ) : (\r\n                                <p>\r\n                                    You rated with movie {watchedUserRating} <span>⭐️</span>\r\n                                </p>\r\n                            )}\r\n                        </div>\r\n                        <p>\r\n                            <em>{plot}</em>\r\n                        </p>\r\n                        <p>Starring {actors}</p>\r\n                        <p>Directed by {director}</p>\r\n                    </section>\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MovieDetails;","C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\search\\Search.js",[],[],"C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\main\\Box.js",[],[],"C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\movie\\MovieList.js",[],[],"C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\watched\\NumResults.js",[],[],"C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\watched\\WatchedSummary.js",[],[],"C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\movie\\Movie.js",[],[],"C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\logo\\Logo.js",[],[],"C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\watched\\WatchedMoviesList.js",[],[],"C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\watched\\WatchedMovie.js",[],[],"C:\\Users\\User\\OneDrive\\Рабочий стол\\jonas-course\\usepopcorn\\src\\components\\error\\ErrorMessage.js",[],[],{"ruleId":"105","severity":1,"message":"106","line":40,"column":11,"nodeType":"107","messageId":"108","endLine":40,"endColumn":16},"no-unused-vars","'isTop' is assigned a value but never used.","Identifier","unusedVar"]